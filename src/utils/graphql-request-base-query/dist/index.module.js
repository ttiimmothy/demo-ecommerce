import{isPlainObject as e}from"@reduxjs/toolkit";import{GraphQLClient as r,ClientError as t}from"graphql-request";function n(){return n=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},n.apply(this,arguments)}var a=function(a){var o="client"in a?a.client:new r(a.url),s="requestHeaders"in a?a.requestHeaders:{};return function(r,i){var u=r.document,c=r.variables,l=i.getState,f=i.endpoint,v=i.forced,d=i.type,m=i.signal,p=i.extra;try{return Promise.resolve(function(r,t){try{var i=(g=null!=(h=a.prepareHeaders)?h:function(e){return e},q=new Headers(function(r){if(!e(r))return r;for(var t=n({},r),a=0,o=Object.entries(t);a<o.length;a++){var s=o[a];void 0===s[1]&&delete t[s[0]]}return t}(s)),Promise.resolve(g(q,{getState:l,endpoint:f,forced:v,type:d,extra:p})).then(function(e){return Promise.resolve(o.request({document:u,variables:c,signal:m,requestHeaders:e})).then(function(e){return{data:e,meta:{}}})}))}catch(e){return t(e)}var h,g,q;return i&&i.then?i.then(void 0,t):i}(0,function(e){if(e instanceof t){var r,n=e.name,o=e.message,s=e.stack,i=e.request,u=e.response;return{error:(null!=(r=a.customErrors)?r:function(){return{name:n,message:o,stack:s}})(e),meta:{request:i,response:u}}}throw e}))}catch(e){return Promise.reject(e)}}};export{a as graphqlRequestBaseQuery};
//# sourceMappingURL=index.module.js.map
