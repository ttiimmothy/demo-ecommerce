var e=require("@reduxjs/toolkit"),r=require("graphql-request");function t(){return t=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},t.apply(this,arguments)}exports.graphqlRequestBaseQuery=function(n){var a="client"in n?n.client:new r.GraphQLClient(n.url),s="requestHeaders"in n?n.requestHeaders:{};return function(i,o){var u=i.document,c=i.variables,l=o.getState,f=o.endpoint,v=o.forced,d=o.type,p=o.signal,h=o.extra;try{return Promise.resolve(function(r,i){try{var o=(g=null!=(m=n.prepareHeaders)?m:function(e){return e},q=new Headers(function(r){if(!e.isPlainObject(r))return r;for(var n=t({},r),a=0,s=Object.entries(n);a<s.length;a++){var i=s[a];void 0===i[1]&&delete n[i[0]]}return n}(s)),Promise.resolve(g(q,{getState:l,endpoint:f,forced:v,type:d,extra:h})).then(function(e){return Promise.resolve(a.request({document:u,variables:c,signal:p,requestHeaders:e})).then(function(e){return{data:e,meta:{}}})}))}catch(e){return i(e)}var m,g,q;return o&&o.then?o.then(void 0,i):o}(0,function(e){if(e instanceof r.ClientError){var t,a=e.name,s=e.message,i=e.stack,o=e.request,u=e.response;return{error:(null!=(t=n.customErrors)?t:function(){return{name:a,message:s,stack:i}})(e),meta:{request:o,response:u}}}throw e}))}catch(e){return Promise.reject(e)}}};
//# sourceMappingURL=index.cjs.map
